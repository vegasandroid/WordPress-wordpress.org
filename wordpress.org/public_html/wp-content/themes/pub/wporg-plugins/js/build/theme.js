!function(){var e={703:function(e,t,s){"use strict";var n=s(414);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,s,i,r,a){if(a!==n){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var s={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return s.PropTypes=s,s}},697:function(e,t,s){e.exports=s(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=s(697),n=s.n(t);function i(e,t){let s,n,i,r=null,a=0,l=function(){a=(new Date).getTime(),r=null,i=e.apply(s,n),r||(s=n=null)};return function(){let o=(new Date).getTime(),h=t-(o-a);return s=this,n=arguments,h<=0||h>t?(r&&(clearTimeout(r),r=null),a=o,i=e.apply(s,n),r||(s=n=null)):r||(r=setTimeout(l,h)),i}}function r(){const e=i(...arguments);return function(t){return t?(t.persist(),e(t)):e()}}class a extends React.Component{constructor(e){super(e),this.state={currentIndex:e.startIndex,thumbsTranslateX:0,offsetPercentage:0,galleryWidth:0,thumbnailWidth:0}}componentWillReceiveProps(e){this.props.disableArrowKeys!==e.disableArrowKeys&&(e.disableArrowKeys?window.removeEventListener("keydown",this._handleKeyDown):window.addEventListener("keydown",this._handleKeyDown))}componentDidUpdate(e,t){t.thumbnailWidth===this.state.thumbnailWidth&&e.showThumbnails===this.props.showThumbnails||this._setThumbsTranslateX(-this._getThumbsTranslateX(this.state.currentIndex>0?1:0)*this.state.currentIndex),t.currentIndex!==this.state.currentIndex&&this._updateThumbnailTranslateX(t)}componentWillMount(){this._slideLeft=r(this._slideLeft.bind(this),500,!0),this._slideRight=r(this._slideRight.bind(this),500,!0),this._handleResize=this._handleResize.bind(this),this._handleKeyDown=this._handleKeyDown.bind(this),this._thumbnailDelay=300}componentDidMount(){window.setTimeout((()=>this._handleResize()),500),this.props.disableArrowKeys||window.addEventListener("keydown",this._handleKeyDown),window.addEventListener("resize",this._handleResize)}componentWillUnmount(){this.props.disableArrowKeys||window.removeEventListener("keydown",this._handleKeyDown),window.removeEventListener("resize",this._handleResize),this._intervalId&&(window.clearInterval(this._intervalId),this._intervalId=null)}fullScreen(){const e=this._imageGallery;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}slideToIndex(e,t){t&&t.preventDefault();let s=this.props.items.length-1,n=e;e<0?n=s:e>s&&(n=0),this.setState({previousIndex:this.state.currentIndex,currentIndex:n,offsetPercentage:0,style:{transition:"transform 0.45s ease-out"}})}getCurrentIndex(){return this.state.currentIndex}_handleResize(){this._imageGallery&&this.setState({galleryWidth:this._imageGallery.offsetWidth}),this._imageGalleryThumbnail&&this.setState({thumbnailWidth:this._imageGalleryThumbnail.offsetWidth})}_handleKeyDown(e){switch(parseInt(e.keyCode||e.which||0)){case 37:this._canSlideLeft()&&!this._intervalId&&this._slideLeft();break;case 39:this._canSlideRight()&&!this._intervalId&&this._slideRight()}}_handleMouseOverThumbnails(e){this.props.slideOnThumbnailHover&&(this.setState({hovering:!0}),this._thumbnailTimer&&(window.clearTimeout(this._thumbnailTimer),this._thumbnailTimer=null),this._thumbnailTimer=window.setTimeout((()=>{this.slideToIndex(e)}),this._thumbnailDelay))}_handleMouseLeaveThumbnails(){this._thumbnailTimer&&(window.clearTimeout(this._thumbnailTimer),this._thumbnailTimer=null),this.setState({hovering:!1})}_handleMouseOver(){this.setState({hovering:!0})}_handleMouseLeave(){this.setState({hovering:!1})}_handleImageError(e){this.props.defaultImage&&-1===e.target.src.indexOf(this.props.defaultImage)&&(e.target.src=this.props.defaultImage)}_canNavigate(){return this.props.items.length>=2}_canSlideLeft(){return this.props.infinite||this.state.currentIndex>0}_canSlideRight(){return this.props.infinite||this.state.currentIndex<this.props.items.length-1}_updateThumbnailTranslateX(e){if(0===this.state.currentIndex)this._setThumbsTranslateX(0);else{let t=Math.abs(e.currentIndex-this.state.currentIndex),s=this._getThumbsTranslateX(t);s>0&&(e.currentIndex<this.state.currentIndex?this._setThumbsTranslateX(this.state.thumbsTranslateX-s):e.currentIndex>this.state.currentIndex&&this._setThumbsTranslateX(this.state.thumbsTranslateX+s))}}_setThumbsTranslateX(e){this.setState({thumbsTranslateX:e})}_getThumbsTranslateX(e){if(this.props.disableThumbnailScroll)return 0;const{thumbnailWidth:t}=this.state;if(this._thumbnails){if(this._thumbnails.scrollWidth<=t)return 0;let s=this._thumbnails.children.length;return e*((this._thumbnails.scrollWidth-t)/(s-1))}}_getAlignmentClassName(e){let{currentIndex:t}=this.state,s="";switch(e){case t-1:s=" left";break;case t:s=" center";break;case t+1:s=" right"}return this.props.items.length>=3&&this.props.infinite&&(0===e&&t===this.props.items.length-1?s=" right":e===this.props.items.length-1&&0===t&&(s=" left")),s}_getTranslateXForTwoSlide(e){const{currentIndex:t,offsetPercentage:s,previousIndex:n}=this.state;let i=-100*t+100*e+s;return s>0?this.direction="left":s<0&&(this.direction="right"),0===t&&1===e&&s>0?i=-100+s:1===t&&0===e&&s<0&&(i=100+s),t!==n?0===n&&0===e&&0===s&&"left"===this.direction?i=100:1===n&&1===e&&0===s&&"right"===this.direction&&(i=-100):0===t&&1===e&&0===s&&"left"===this.direction?i=-100:1===t&&0===e&&0===s&&"right"===this.direction&&(i=100),i}_getSlideStyle(e){const{currentIndex:t,offsetPercentage:s}=this.state,{infinite:n,items:i}=this.props,r=-100*t,a=i.length-1;let l=r+100*e+s,o=1;e===t?o=3:e===this.state.previousIndex&&(o=2),n&&i.length>2&&(0===t&&e===a?l=-100+s:t===a&&0===e&&(l=100+s)),n&&2===i.length&&(l=this._getTranslateXForTwoSlide(e));const h=`translate3d(${l}%, 0, 0)`;return{WebkitTransform:h,MozTransform:h,msTransform:h,OTransform:h,transform:h,zIndex:o}}_getThumbnailStyle(){const e=`translate3d(${this.state.thumbsTranslateX}px, 0, 0)`;return{WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e}}_slideLeft(e){this.slideToIndex(this.state.currentIndex-1,e)}_slideRight(e){this.slideToIndex(this.state.currentIndex+1,e)}_renderItem(t){return(0,e.createElement)("figure",{className:"image-gallery-image"},(0,e.createElement)("a",{href:t.original},(0,e.createElement)("img",{src:t.original,alt:t.originalAlt,srcSet:t.srcSet,sizes:t.sizes,onLoad:this.props.onImageLoad,onError:this._handleImageError.bind(this)})),t.description&&(0,e.createElement)("figcaption",{className:"image-gallery-description"},t.description))}render(){const{currentIndex:t}=this.state,s=this._getThumbnailStyle(),n=this._slideLeft.bind(this),i=this._slideRight.bind(this);let r=[],a=[];return this.props.items.map(((s,n)=>{const i=this._getAlignmentClassName(n),l=s.originalClass?` ${s.originalClass}`:"",o=s.thumbnailClass?` ${s.thumbnailClass}`:"",h=s.renderItem||this.props.renderItem||this._renderItem.bind(this),u=(0,e.createElement)("div",{key:n,className:"image-gallery-slide"+i+l,style:Object.assign(this._getSlideStyle(n),this.state.style),onClick:this.props.onClick},h(s));this.props.lazyLoad?i&&r.push(u):r.push(u),a.push((0,e.createElement)("button",{type:"button",onMouseOver:this._handleMouseOverThumbnails.bind(this,n),onMouseLeave:this._handleMouseLeaveThumbnails.bind(this,n),key:n,className:"button-link image-gallery-thumbnail"+(t===n?" active":"")+o,onTouchStart:e=>this.slideToIndex.call(this,n,e),onClick:e=>this.slideToIndex.call(this,n,e)},(0,e.createElement)("img",{src:s.thumbnail,alt:s.thumbnailAlt,onError:this._handleImageError.bind(this)}),(0,e.createElement)("div",{className:"image-gallery-thumbnail-label"},s.thumbnailLabel)))})),(0,e.createElement)("section",{ref:e=>this._imageGallery=e,className:"image-gallery"},(0,e.createElement)("div",{onMouseOver:this._handleMouseOver.bind(this),onMouseLeave:this._handleMouseLeave.bind(this),className:"image-gallery-content"},this._canNavigate()?[this.props.showNav&&(0,e.createElement)("span",{key:"navigation"},this._canSlideLeft()&&(0,e.createElement)("button",{type:"button",className:"button-link image-gallery-left-nav",onClick:n}),this._canSlideRight()&&(0,e.createElement)("button",{type:"button",className:"button-link image-gallery-right-nav",onClick:i})),(0,e.createElement)("div",{key:this.state.currentIndex,className:"image-gallery-slides"},r)]:(0,e.createElement)("div",{className:"image-gallery-slides"},r),this.props.showIndex&&(0,e.createElement)("div",{className:"image-gallery-index"},(0,e.createElement)("span",{className:"image-gallery-index-current"},this.state.currentIndex+1),(0,e.createElement)("span",{className:"image-gallery-index-separator"},this.props.indexSeparator),(0,e.createElement)("span",{className:"image-gallery-index-total"},this.props.items.length))),(0,e.createElement)("div",{className:"image-gallery-thumbnails",ref:e=>this._imageGalleryThumbnail=e},(0,e.createElement)("div",{ref:e=>this._thumbnails=e,className:"image-gallery-thumbnails-container",style:s},a)))}}a.propTypes={items:n().array.isRequired,showNav:n().bool,lazyLoad:n().bool,infinite:n().bool,showIndex:n().bool,showThumbnails:n().bool,slideOnThumbnailHover:n().bool,disableThumbnailScroll:n().bool,disableArrowKeys:n().bool,defaultImage:n().string,indexSeparator:n().string,startIndex:n().number,slideInterval:n().number,onClick:n().func,onImageLoad:n().func,onImageError:n().func,renderItem:n().func},a.defaultProps={items:[],showNav:!0,lazyLoad:!1,infinite:!0,showIndex:!1,showThumbnails:!0,slideOnThumbnailHover:!1,disableThumbnailScroll:!1,disableArrowKeys:!1,indexSeparator:" / ",startIndex:0,slideInterval:3e3};var l=t=>{let{screenshots:s=[]}=t;if(!s)return null;const n=s.map((e=>{let{caption:t,src:s}=e;return{original:s,originalAlt:"",thumbnail:s,thumbnailAlt:t||"",description:t||!1}}));return(0,e.createElement)("div",{id:"screenshots",className:"plugin-screenshots"},(0,e.createElement)("h2",null,localeData.screenshots),(0,e.createElement)(a,{items:n}))};!function(t){const s=document.getElementById("screenshots");if(!s)return;const n=s.querySelectorAll("figure"),i=[];for(let e=0;e<n.length;e++){const t=n[e].querySelector("figcaption"),s={src:n[e].querySelector("img.screenshot").src,caption:t?t.textContent:""};i.push(s)}i.length>0&&(0,e.render)((0,e.createElement)(l,{screenshots:i}),s)}()}()}();