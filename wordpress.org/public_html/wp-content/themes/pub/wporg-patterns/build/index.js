!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.url},function(e,t){e.exports=window.React},function(e,t){e.exports=window.wp.dataControls},function(e,t){e.exports=window.wp.primitives},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var c=a.apply(null,r);c&&e.push(c)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var i in r)n.call(r,i)&&r[i]&&e.push(i);else e.push(r.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=window.wp.compose},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.htmlEntities},function(e,t){e.exports=window.wp.a11y},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=window.wp.keycodes},function(e,t){e.exports=window.lodash},function(e,t){e.exports=window.wp.coreData},function(e,t){e.exports=window.wp.dom},,function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"fetchPatterns",(function(){return T})),n.d(r,"loadPattern",(function(){return k})),n.d(r,"loadPatterns",(function(){return C})),n.d(r,"setErrorPatterns",(function(){return A})),n.d(r,"setCurrentQuery",(function(){return I})),n.d(r,"fetchCategories",(function(){return L})),n.d(r,"loadCategories",(function(){return R})),n.d(r,"fetchPatternFlagReasons",(function(){return D})),n.d(r,"loadPatternFlagReasons",(function(){return F})),n.d(r,"loadFavorites",(function(){return M})),n.d(r,"addFavorite",(function(){return B})),n.d(r,"removeFavorite",(function(){return Q}));var a={};n.r(a),n.d(a,"getPatternsByQuery",(function(){return V})),n.d(a,"getPattern",(function(){return G})),n.d(a,"getCategories",(function(){return z})),n.d(a,"getPatternFlagReasons",(function(){return H})),n.d(a,"getFavorites",(function(){return W}));var o={};n.r(o),n.d(o,"isLoadingPatternsByQuery",(function(){return Y})),n.d(o,"getPatterns",(function(){return X})),n.d(o,"getPatternsByQuery",(function(){return J})),n.d(o,"getPatternTotalsByQuery",(function(){return Z})),n.d(o,"getPatternTotalPagesByQuery",(function(){return ee})),n.d(o,"getPattern",(function(){return te})),n.d(o,"getCurrentQuery",(function(){return ne})),n.d(o,"isLoadingCategories",(function(){return re})),n.d(o,"hasLoadedCategories",(function(){return ae})),n.d(o,"getCategories",(function(){return oe})),n.d(o,"getCategoryBySlug",(function(){return ce})),n.d(o,"getCategoryById",(function(){return ie})),n.d(o,"getPatternFlagReasons",(function(){return se})),n.d(o,"isLoadingPatternFlagReasons",(function(){return le})),n.d(o,"getFavorites",(function(){return ue})),n.d(o,"isFavorite",(function(){return pe})),n.d(o,"getQueryFromUrl",(function(){return de})),n.d(o,"getUrlFromQuery",(function(){return be}));var c=n(0),i=n(1),s=n(11),l=n(3),u=({name:e,url:t,avatar:n})=>Object(c.createElement)("a",{href:t,className:"pattern__author-avatar"},Object(c.createElement)("img",{alt:"",src:n}),e);const p=({className:e="",style:t,children:n})=>Object(c.createElement)("span",{className:e+" pattern-skeleton__container",style:t},n),d=e=>Object(c.createElement)("span",{className:"pattern-skeleton",style:e});var b=n(10),m=n.n(b),g=n(7),f=function(e){return Object(c.createElement)(g.SVG,m()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},e),Object(c.createElement)(g.Path,{d:"M11.941 21.175l-1.443-1.32c-5.124-4.67-8.508-7.75-8.508-11.53 0-3.08 2.408-5.5 5.473-5.5 1.732 0 3.394.81 4.478 2.09 1.085-1.28 2.747-2.09 4.478-2.09 3.065 0 5.473 2.42 5.473 5.5 0 3.78-3.383 6.86-8.508 11.54l-1.443 1.31z"}))};function O(e){return e*(2/3)}const h=()=>{const[e,t]=Object(c.useState)(),n=Object(c.useRef)();return Object(c.useEffect)(()=>{n.current&&t(O(n.current.clientWidth)+"px")},[n]),Object(c.createElement)("div",{ref:n},Object(c.createElement)(p,null,Object(c.createElement)(d,{height:e}),Object(c.createElement)(d,{height:"14px",marginTop:"1rem"}),Object(c.createElement)(p,{style:{flexDirection:"row",marginTop:"0.5rem",alignItems:"center"}},Object(c.createElement)(d,{height:"18px",width:"18px",marginRight:"0.5rem",borderRadius:"32px"}),Object(c.createElement)(d,{height:"12px",width:"100px",marginRight:"0.75rem"}),Object(c.createElement)(f,{width:"16px",height:"16px",fill:"#787c82",className:"pattern-favorite-button__filled"}),Object(c.createElement)(d,{height:"12px",width:"32px",marginLeft:"0.5rem"}))))};var v=({length:e=6})=>Array(e).fill().map((e,t)=>Object(c.createElement)(h,{key:t})),j=n(4);const _=e=>e.split("?")[0],y=(e,t)=>{if(!t||!e)return"";const n=Object(j.getQueryArgs)(e);if(n[t])return n[t];const r=(e=>e.replace(/^\//,""))(_(e).replace(/\/$/,"")).split("/"),a=r.indexOf(t);return-1===a?"":r[a+1]||""},w=e=>Number(y(e,"page")||1),E=Object(c.createContext)();function S({children:e}){const[t,n]=Object(c.useState)(Object(j.getPathAndQueryString)(window.location.href)),r=e=>{window.history.pushState("","",e),n(e)},a=()=>{n(document.location.href)};return Object(c.useEffect)(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}),[]),Object(c.createElement)(E.Provider,{value:{path:t,update:e=>{const n=(e=>(e=>{const t={};return Object.keys(e).forEach(n=>{const r=e[n];null!=r&&r.toString().length>0&&(t[n]=r)}),t})({...Object(j.getQueryArgs)(t),...Object(j.getQueryArgs)(e)}))(e),a=_(e),o=Object(j.addQueryArgs)(a,n);r(o)},replace:r}},e)}function P(){const e=Object(c.useContext)(E);if(void 0===e)throw new Error("useRoute must be used within a Provider");return e}function N({currentPage:e=1,onNavigation:t,totalPages:n}){const{path:r,update:a}=P();if(!n||n<=1)return null;const o=e>1,s=e<n,l=Object(j.getQueryString)(r)?"?"+Object(j.getQueryString)(r):"",u=r.replace(l,"").replace(/page\/\d+\/?/,""),p=function(e,t=1){const n=Array.from({length:e},(e,t)=>t+1),r=[];return e<=5?n:(r.push(...n.slice(0,2)),t>=2&&t<=e-1&&r.push(...n.slice(t-2,t+1)),r.push(...n.slice(-2)),r.filter((e,t,n)=>n.indexOf(e)===t).reduce((e,t,n,r)=>{if(0===n)return e.push(t),e;const a=Math.abs(r[n]-r[n-1]);return 0===a||(a>1&&e.push("…"),e.push(t)),e},[]))}(n,e),d=`${u}page/%s/${l}`,b=e=>1===e?`${u}${l}`:Object(i.sprintf)(d,e),m=(e,n)=>{e.preventDefault(),a(b(n)),"function"==typeof t&&t()};return Object(c.createElement)("nav",{className:"pagination","aria-label":Object(i.__)("Pagination","wporg-patterns")},Object(c.createElement)("ul",{className:"pagination__list"},Object(c.createElement)("li",{className:"pagination__item pagination__item-previous-page"},o&&Object(c.createElement)("a",{className:"pagination__link",href:b(e-1),onClick:t=>m(t,e-1)},Object(c.createElement)("span",{className:"screen-reader-text"},Object(i.__)("Previous page","wporg-patterns")),Object(c.createElement)("span",{"aria-hidden":!0},Object(i._x)("Previous","previous page link label","wporg-patterns")))),p.map((t,n)=>"…"===t?Object(c.createElement)("li",{className:"pagination__item",key:`${n}-${t}`},t):Object(c.createElement)("li",{className:"pagination__item",key:t},Object(c.createElement)("a",{className:"pagination__link",href:b(t),"aria-current":t===e?"page":void 0,onClick:e=>m(e,t)},Object(c.createElement)("span",{className:"screen-reader-text"},Object(i.sprintf)(// translators: %s is the page number.
Object(i.__)("Page %s","wporg-patterns"),t)),Object(c.createElement)("span",{"aria-hidden":!0},t)))),Object(c.createElement)("li",{className:"pagination__item pagination__item-next-page"},s&&Object(c.createElement)("a",{className:"pagination__link",href:b(e+1),onClick:t=>m(t,e+1)},Object(c.createElement)("span",{className:"screen-reader-text"},Object(i.__)("Next page","wporg-patterns")),Object(c.createElement)("span",{"aria-hidden":!0},Object(i._x)("Next","next page link label","wporg-patterns"))))))}var x=n(6);function T(e){return{type:"FETCH_BLOCK_PATTERNS",query:e}}function k(e,t){return{type:"LOAD_BLOCK_PATTERN",postId:e,pattern:t}}function C(e,{page:t,patterns:n,total:r,totalPages:a}){return{type:"LOAD_BLOCK_PATTERNS",query:e,page:t,patterns:n,total:r,totalPages:a}}function A(e,{page:t,error:n}){return{type:"ERROR_BLOCK_PATTERNS",query:e,page:t,error:n}}function I(e){return{type:"SET_CURRENT_QUERY",query:e}}function L(){return{type:"FETCH_CATEGORIES"}}function R(e){return{type:"LOAD_CATEGORIES",categories:e}}function D(){return{type:"FETCH_PATTERN_FLAG_REASONS"}}function F(e){return{type:"LOAD_PATTERN_FLAG_REASONS",reasons:e}}function M(e){return{type:"LOAD_FAVORITES",patternIds:e}}function*B(e){const t=yield Object(x.apiFetch)({path:"/wporg/v1/pattern-favorites",method:"POST",data:{id:e}});if("number"==typeof t)return{type:"ADD_FAVORITE",patternId:e,count:t}}function*Q(e){const t=yield Object(x.apiFetch)({path:"/wporg/v1/pattern-favorites",method:"DELETE",data:{id:e}});if("number"==typeof t)return{type:"REMOVE_FAVORITE",patternId:e,count:t}}function q(e={}){const t=Object.keys(e).sort();let n="";for(let r=0;r<t.length;r++){const a=t[r];let o=e[a];switch(Array.isArray(o)&&(o=e[a].join()),a){case"page":case"per_page":case"_fields":break;default:n+=(n?"&":"")+Object(j.addQueryArgs)("",{[a]:o}).slice(1)}}return n}function U(e={},t){switch(t.type){case"LOAD_BLOCK_PATTERNS":{const n=(t.patterns||[]).reduce((e,t)=>({...e,[t.id]:t}),{});return{...e,...n}}case"LOAD_BLOCK_PATTERN":return{...e,[t.postId]:t.pattern};case"ADD_FAVORITE":case"REMOVE_FAVORITE":{const n={...e[t.patternId],favorite_count:t.count};return{...e,[t.patternId]:n}}default:return e}}function $(e={},t){const n=(t.patterns||[]).map(({id:e})=>e),{page:r,total:a,totalPages:o}=t;switch(t.type){case"LOAD_BLOCK_PATTERNS":{const c={...e[t.query]||{},total:a,totalPages:o};return c[r]=n,{...e,[t.query]:c}}case"ERROR_BLOCK_PATTERNS":{const n=e[t.query]||{};return n[r]=[],{...e,[t.query]:n}}default:return e}}var K=Object(l.combineReducers)({patterns:function(e={},t){return{byId:U(e.byId,t),queries:$(e.queries,t)}},categories:function(e,t){switch(t.type){case"FETCH_CATEGORIES":return null;case"LOAD_CATEGORIES":const e=(t.categories||[]).sort((e,t)=>e.name.localeCompare(t.name));return[{id:-1,slug:"",name:Object(i.__)("All","wporg-patterns"),link:wporgPatternsUrl.site},...e]}return e},currentQuery:function(e,t){switch(t.type){case"SET_CURRENT_QUERY":return t.query}return e},patternFlagReasons:function(e,t){switch(t.type){case"FETCH_PATTERN_FLAG_REASONS":return null;case"LOAD_PATTERN_FLAG_REASONS":return[...t.reasons];default:return e}},favorites:function(e=null,t){const{patternId:n}=t;switch(t.type){case"LOAD_FAVORITES":return t.patternIds;case"ADD_FAVORITE":return e.includes(n)?e:[...e,n];case"REMOVE_FAVORITE":return e.filter(e=>e!==n)}return e}});function*V(e){const t=q(e);try{yield T(t);const n=yield Object(x.apiFetch)({path:Object(j.addQueryArgs)("/wp/v2/wporg-pattern",{...e,locale:JSON.parse(wporgLocale)}),parse:!1}),{total:r,totalPages:a,results:o}=yield Object(x.__unstableAwaitPromise)(async function(e){try{var t,n;return{total:Number((null===(t=e.headers)||void 0===t?void 0:t.get("X-WP-Total"))||0),totalPages:Number((null===(n=e.headers)||void 0===n?void 0:n.get("X-WP-TotalPages"))||0),results:await e.json()}}catch(e){return{}}}(n));yield C(t,{page:e.page||1,patterns:o,total:r,totalPages:a})}catch(n){const r=yield Object(x.__unstableAwaitPromise)(async function(e){try{return await e.json()}catch(e){return{}}}(n));yield A(t,{page:e.page||1,error:r})}}function*G(e){try{const t=yield Object(x.apiFetch)({path:Object(j.addQueryArgs)("/wp/v2/wporg-pattern/"+e)});yield k(e,t)}catch(e){}}function*z(){try{yield{type:"FETCH_CATEGORIES"};const e=yield Object(x.apiFetch)({path:Object(j.addQueryArgs)("/wp/v2/pattern-categories")});yield R(e)}catch(e){}}function*H(){try{yield{type:"FETCH_PATTERN_FLAG_REASONS"};const e=yield Object(x.apiFetch)({path:Object(j.addQueryArgs)("/wp/v2/wporg-pattern-flag-reason")});yield F(e)}catch(e){}}function*W(){try{const e=yield Object(x.apiFetch)({path:"/wporg/v1/pattern-favorites"});yield M(e)}catch(e){}}function Y(e,t){var n,r;const a=q(t),o=(null==t?void 0:t.page)||1;return!Array.isArray(null===(n=e.patterns.queries)||void 0===n||null===(r=n[a])||void 0===r?void 0:r[o])}function X(e){return Object.values(e.patterns.byId)}function J(e,t){var n,r;const a=q(t),o=(null==t?void 0:t.page)||1;return((null===(n=e.patterns.queries)||void 0===n||null===(r=n[a])||void 0===r?void 0:r[o])||[]).map(t=>e.patterns.byId[t])}function Z(e,t){var n,r;const a=q(t);return(null===(n=e.patterns.queries)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.total)||0}function ee(e,t){var n,r;const a=q(t);return(null===(n=e.patterns.queries)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.totalPages)||0}function te(e,t){return e.patterns.byId[t]||null}function ne(e){return e.currentQuery}function re(e){return null===e.categories}function ae(e){return Array.isArray(e.categories)}function oe(e){return e.categories}function ce(e,t){if(!ae(e))return;const[n]=e.categories.filter(e=>e.slug===t);return n}function ie(e,t){if(ae(e))return e.categories.find(({id:e})=>t===e)}function se(e){return e.patternFlagReasons}function le(e){return null===e.patternFlagReasons}function ue(e){return e.favorites}function pe(e,t){var n;return null===(n=e.favorites)||void 0===n?void 0:n.includes(t)}function de(e,t){const n=["categories","author","page","search"],r=Object(j.getQueryArgs)(t),a=y(t,"categories");if(a&&-1===n.indexOf(a)){const t=ce(e,a);null!=t&&t.id&&(r["pattern-categories"]=t.id)}const o=y(t,"author");o&&-1===n.indexOf(o)&&(r.author_name=o);const c=w(t);"number"==typeof c&&c>1&&(r.page=c);const i=(e=>decodeURI(y(e,"search")))(t);i.length>0&&-1===n.indexOf(i)&&(r.search=i);const s=y(t,"my-patterns");return s&&"page"!==s&&(r.status=s),r}function be(e,t={},n=wporgPatternsUrl.site){if(n=n.replace(/\/$/,""),t.author_name&&(n+="/author/"+t.author_name,delete t.author_name),t["pattern-categories"]){const r=t["pattern-categories"],a=oe(e).find(({id:e})=>r===e);null!=a&&a.slug&&(n+="/categories/"+a.slug),delete t["pattern-categories"]}return t.page&&(n+="/page/"+t.page,delete t.page),Object.keys(t).length?n+="/?"+Object(j.buildQueryString)(t):n+"/"}const me=Object(l.createReduxStore)("wporg/pattern-directory",{reducer:K,selectors:o,actions:r,controls:x.controls,resolvers:a});Object(l.register)(me);var ge=function({header:e,children:t,onNavigation:n,query:r,showPagination:a=!0}){const{isLoading:o,posts:i,totalPages:s}=Object(l.useSelect)(e=>{const{getPatternTotalPagesByQuery:t,getPatternsByQuery:n,isLoadingPatternsByQuery:a}=e(me);return{isLoading:r&&a(r),posts:r?n(r):[],totalPages:r?t(r):0}});return Object(c.createElement)(c.Fragment,null,i.length?e:null,Object(c.createElement)("div",{className:"pattern-grid"},o?Object(c.createElement)(v,{length:null==r?void 0:r.per_page}):i.map(t)),a&&Object(c.createElement)(N,{totalPages:s,currentPage:null==r?void 0:r.page,onNavigation:n}))},fe=n(9),Oe=n(2);function he(e){e.dir=document.dir,e.body.className="pattern-wrapper";for(const t of document.body.classList)t.startsWith("admin-color-")&&e.body.classList.add(t)}var ve=Object(c.forwardRef)((function({contentRef:e,children:t,head:n,headHTML:r,bodyStyle:a="",themeSlug:o="twentytwentyone",...s},l){const[u,p]=Object(c.useState)();r+=`<link rel="stylesheet" href="https://wp-themes.com/wp-content/themes/${o}/style.css" media="all" />`,r+=`<style>\n    body {\n        display: flex;\n        min-height: 100vh;\n        align-items: center;\n        justify-content: center;\n        background-color: white;\n    }\n    .pattern-wrapper {\n        padding: 0;\n        ${a}\n    }\n    body > div {\n        width: 100%;\n        max-height: 100%;\n        pointer-events: none;\n    }\n    </style>`;const d=Object(c.useCallback)(t=>{function n(){const{contentDocument:n}=t,{readyState:a,body:o}=n;return("interactive"===a||"complete"===a)&&("function"==typeof e?e(o):e&&(e.current=o),function(e,t){e.head.innerHTML="<style>body{margin:0}</style>"+t}(n,r),he(n),function(e){const{defaultView:t}=e,{frameElement:n}=t;function r(e){const r=Object.getPrototypeOf(e).constructor.name,a=window[r],o={};for(const t in e)o[t]=e[t];if(e instanceof t.MouseEvent){const e=n.getBoundingClientRect();o.clientX+=e.left,o.clientY+=e.top}const c=new a(e.type,o);!n.dispatchEvent(c)&&e.preventDefault()}const a=["keydown","keypress","dragover"];for(const t of a)e.addEventListener(t,r)}(n),he(n),p(n),!0)}t&&(n()||t.addEventListener("load",()=>{n()}))},[]);return Object(c.createElement)("iframe",m()({title:Object(i.__)("Pattern Preview","wporg-patterns"),tabIndex:"-1"},s,{ref:Object(fe.useMergeRefs)([l,d])}),u&&Object(c.createPortal)(t,u.body),u&&Object(c.createPortal)(n,u.head))})),je=function({html:e}){return Object(c.createElement)("div",null,Object(c.createElement)(ve,{className:"pattern-preview__viewport-iframe",style:{width:"100%",height:"50vh",minHeight:"600px",overflowY:"auto"},headHTML:window.__editorStyles.html},Object(c.createElement)("div",{dangerouslySetInnerHTML:{__html:e}})))},_e=n(5),ye=n.n(_e);function we(e,t){return e.map((function(e,n){return e+t[n]}))}function Ee(e,t){return e.map((function(e,n){return e-t[n]}))}function Se(e){return Math.hypot.apply(Math,e)}function Pe(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function Ne(e,t,n){return 0===t||Math.abs(t)===1/0?function(e,t){return Math.pow(e,5*t)}(e,n):e*t*n/(t+n*e)}function xe(e,t,n,r){return void 0===r&&(r=.15),0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-Ne(t-e,n-t,r)+t:e>n?+Ne(e-n,n-t,r)+n:e}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ce(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ie(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Re(){}function De(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?Re:1===t.length?t[0]:function(){for(var e,n,r=Le(t);!(n=r()).done;){var a=n.value;e=a.apply(this,arguments)||e}return e}}function Fe(e,t){if(void 0===e){if(void 0===t)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function Me(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function Be(e,t){void 0===e&&(e={});for(var n={},r=0,a=Object.entries(t);r<a.length;r++){var o=a[r],c=o[0],i=o[1];switch(typeof i){case"function":n[c]=i.call(n,e[c],c,e);break;case"object":n[c]=Be(e[c],i);break;case"boolean":i&&(n[c]=e[c])}}return n}function Qe(){return"undefined"!=typeof window&&"ontouchstart"in window}function qe(e){return"pointerId"in e?null:"touchend"===e.type?e.changedTouches:e.targetTouches}function Ue(e){return Array.from(qe(e)).map((function(e){return e.identifier}))}function $e(e){return{buttons:"buttons"in e?e.buttons:0,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}var Ke=function(e){return e};function Ve(e,t){void 0===t&&(t=Ke);var n=qe(e),r=n?n[0]:e;return t([r.clientX,r.clientY])}var Ge=ke({},{threshold:function(e){return void 0===e&&(e=0),Fe(e)},rubberband:function(e){switch(void 0===e&&(e=0),e){case!0:return Fe(.15);case!1:return Fe(0);default:return Fe(e)}},enabled:function(e){return void 0===e&&(e=!0),e},triggerAllEvents:function(e){return void 0===e&&(e=!1),e},initial:function(e){return void 0===e&&(e=0),"function"==typeof e?e:Fe(e)},transform:!0},{axis:!0,lockDirection:function(e){return void 0===e&&(e=!1),e},bounds:function(e){if(void 0===e&&(e={}),"function"==typeof e)return function(t){return Ge.bounds(e(t))};var t=e,n=t.left,r=void 0===n?-1/0:n,a=t.right,o=void 0===a?1/0:a,c=t.top,i=void 0===c?-1/0:c,s=t.bottom;return[[r,o],[i,void 0===s?1/0:s]]}}),ze="undefined"!=typeof window&&window.document&&window.document.createElement,He={enabled:function(e){return void 0===e&&(e=!0),e},domTarget:!0,window:function(e){function t(_x){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return void 0===e&&(e=ze?window:void 0),e})),eventOptions:function(e){var t=void 0===e?{}:e,n=t.passive,r=void 0===n||n,a=t.capture;return{passive:r,capture:void 0!==a&&a}},transform:!0},We=ke({},Ge,{useTouch:function(e){void 0===e&&(e=!1);var t=Qe(),n="undefined"!=typeof window&&"onpointerdown"in window;return!(!e||!t)||!(!t||n)},experimental_preventWindowScrollY:function(e){return void 0===e&&(e=!1),e},threshold:function(e,t,n){var r=n.filterTaps,a=void 0!==r&&r,o=n.lockDirection,c=void 0!==o&&o,i=n.axis,s=Fe(e,a?3:c||(void 0===i?void 0:i)?1:0);return this.filterTaps=a,s},swipeVelocity:function(e){return void 0===e&&(e=.5),Fe(e)},swipeDistance:function(e){return void 0===e&&(e=50),Fe(e)},swipeDuration:function(e){return void 0===e&&(e=250),e},delay:function(e){switch(void 0===e&&(e=0),e){case!0:return 180;case!1:return 0;default:return e}}});function Ye(e){var t,n=e.domTarget,r=e.eventOptions,a=e.window,o=e.enabled,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["domTarget","eventOptions","window","enabled"]),i=(void 0===(t={domTarget:n,eventOptions:r,window:a,enabled:o})&&(t={}),Be(t,He));return i.drag=function(e){return void 0===e&&(e={}),Be(e,We)}(c),i}function Xe(e){return ke({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_threshold:[0,0],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:Re,canceled:!1,memo:void 0,args:void 0},e)}function Je(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},drag:Xe({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),pinch:Xe({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:Xe({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:Xe({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:Xe({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var Ze=new Map,et=function(e){return e};function tt(e,t){return Math.abs(e)>=t&&Pe(e)*t}function nt(e,t,n){var r=t[0],a=t[1],o=n[0],c=n[1],i=e[0],s=i[0],l=i[1],u=e[1],p=u[0],d=u[1];return[xe(r,s,l,o),xe(a,p,d,c)]}function rt(e,t,n){var r=e.state,a=t.timeStamp,o=t.type,c=r.values;return{_lastEventType:o,event:t,timeStamp:a,elapsedTime:n?0:a-r.startTime,previous:c}}function at(e,t,n,r){var a=e.state,o=e.config,c=e.stateKey,i=e.args,s=e.transform,l=a.offset,u=n.timeStamp,p=o.initial,d=o.bounds,b=Ee(s(o.threshold),s([0,0])).map(Math.abs),m=ke({},Je()[c],{_active:!0,args:i,values:t,initial:null!=r?r:t,_threshold:b,offset:l,lastOffset:l,startTime:u});return ke({},m,{_initial:Me(p,m),_bounds:Me(d,m)})}var ot=function(e){var t=this;this.classes=e,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=Qe(),this.supportsGestureEvents=function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),this.bind=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var a,o={},c=Le(t.classes);!(a=c()).done;){var i=a.value;new i(t,n).addBindings(o)}var s=function(e){mt(o,e,(function(r){return t.nativeRefs[e](ke({},t.state.shared,{event:r,args:n}))}))};for(var l in t.nativeRefs)s(l);return t.config.domTarget?ut(t,o):pt(t,o)},this.effect=function(){return t.config.domTarget&&t.bind(),t.clean},this.clean=function(){var e=bt(t.config),n=t.config.eventOptions;e&&ft(e,dt(t.domListeners),n),Object.values(t.timeouts).forEach(clearTimeout),function(e){var t=e.config,n=t.window,r=t.eventOptions,a=e.windowListeners;if(n){for(var o in a){ft(n,a[o],r)}e.windowListeners={}}}(t)},this.classes=e,this.state=Je(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function ct(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(Ue(t))}function it(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):Ue(t).forEach((function(t){return e.touchIds.delete(t)}))}function st(e,t,n){var r=e.config,a=e.windowListeners;void 0===n&&(n=r.eventOptions),r.window&&(ft(r.window,a[t],n),delete a[t])}function lt(e,t,n,r){var a=e.config,o=e.windowListeners;void 0===n&&(n=[]),void 0===r&&(r=a.eventOptions),a.window&&(ft(a.window,o[t],r),gt(a.window,o[t]=n,r))}function ut(e,t){var n=e.config,r=e.domListeners,a=bt(n);if(!a)throw new Error("domTarget must be defined");var o=n.eventOptions;ft(a,dt(r),o);for(var c=0,i=Object.entries(t);c<i.length;c++){var s=i[c],l=s[0],u=s[1],p=l.slice(2).toLowerCase();r.push([p,De.apply(void 0,u)])}gt(a,r,o)}function pt(e,t){for(var n={},r=e.config.eventOptions.capture?"Capture":"",a=0,o=Object.entries(t);a<o.length;a++){var c=o[a],i=c[0],s=c[1],l=Array.isArray(s)?s:[s];n[i+r]=De.apply(void 0,l)}return n}function dt(e){return void 0===e&&(e=[]),e.splice(0,e.length)}function bt(e){var t=e.domTarget;return t&&"current"in t?t.current:t}function mt(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function gt(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,a=Le(t);!(r=a()).done;){var o=r.value,c=o[0],i=o[1];e.addEventListener(c,i,n)}}function ft(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,a=Le(t);!(r=a()).done;){var o=r.value,c=o[0],i=o[1];e.removeEventListener(c,i,n)}}function Ot(){}function ht(e){"persist"in e&&"function"==typeof e.persist&&e.persist()}var vt=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="dragging",t.stateKey="drag",t.setPointerCapture=function(e){if(!t.config.useTouch&&!document.pointerLockElement){var n=e.target,r=e.pointerId;n&&"setPointerCapture"in n&&n.setPointerCapture(r),t.updateGestureState({_dragTarget:n,_dragPointerId:r})}},t.releasePointerCapture=function(){if(!t.config.useTouch&&!document.pointerLockElement){var e=t.state,n=e._dragTarget,r=e._dragPointerId;if(r&&n&&"releasePointerCapture"in n&&(!("hasPointerCapture"in n)||n.hasPointerCapture(r)))try{n.releasePointerCapture(r)}catch(e){}}},t.preventScroll=function(e){t.state._dragPreventScroll&&e.cancelable&&e.preventDefault()},t.getEventId=function(e){return t.config.useTouch?e.changedTouches[0].identifier:e.pointerId},t.isValidEvent=function(e){return t.state._pointerId===t.getEventId(e)},t.shouldPreventWindowScrollY=t.config.experimental_preventWindowScrollY&&t.controller.supportsTouchEvents,t.setUpWindowScrollDetection=function(e){ht(e),lt(t.controller,t.stateKey,[["touchmove",t.preventScroll],["touchend",t.clean.bind(Ae(t))],["touchcancel",t.clean.bind(Ae(t))]],{passive:!1}),t.setTimeout(t.startDrag.bind(Ae(t)),250,e)},t.setUpDelayedDragTrigger=function(e){t.state._dragDelayed=!0,ht(e),t.setTimeout(t.startDrag.bind(Ae(t)),t.config.delay,e)},t.setStartState=function(e){var n=Ve(e,t.transform);t.updateSharedState($e(e)),t.updateGestureState(ke({},at(Ae(t),n,e),rt(Ae(t),e,!0),{_pointerId:t.getEventId(e)})),t.updateGestureState(t.getMovement(n))},t.onDragStart=function(e){ct(t.controller,e),t.enabled&&!t.state._active&&(t.setStartState(e),t.setPointerCapture(e),t.shouldPreventWindowScrollY?t.setUpWindowScrollDetection(e):t.config.delay>0?t.setUpDelayedDragTrigger(e):t.startDrag(e,!0))},t.onDragChange=function(e){if(!t.state.canceled&&t.state._active&&t.isValidEvent(e)&&(t.state._lastEventType!==e.type||e.timeStamp!==t.state.timeStamp)){var n;if(document.pointerLockElement){var r=e.movementX,a=e.movementY;n=we(t.transform([r,a]),t.state.values)}else n=Ve(e,t.transform);var o=t.getKinematics(n,e);if(!t.state._dragStarted){if(t.state._dragDelayed)return void t.startDrag(e);if(!t.shouldPreventWindowScrollY)return;if(t.state._dragPreventScroll||!o.axis)return;if("x"!==o.axis)return void(t.state._active=!1);t.startDrag(e)}var c=$e(e);t.updateSharedState(c);var i=rt(Ae(t),e),s=Se(o._movement),l=t.state._dragIsTap;l&&s>=3&&(l=!1),t.updateGestureState(ke({},i,o,{_dragIsTap:l})),t.fireGestureHandler()}},t.onDragEnd=function(e){if(it(t.controller,e),t.isValidEvent(e)&&(t.clean(),t.state._active)){t.state._active=!1;var n=t.state._dragIsTap,r=t.state.velocities,a=r[0],o=r[1],c=t.state.movement,i=c[0],s=c[1],l=t.state._intentional,u=l[0],p=l[1],d=t.config.swipeVelocity,b=d[0],m=d[1],g=t.config.swipeDistance,f=g[0],O=g[1],h=t.config.swipeDuration,v=ke({},rt(Ae(t),e),t.getMovement(t.state.values)),j=[0,0];v.elapsedTime<h&&(!1!==u&&Math.abs(a)>b&&Math.abs(i)>f&&(j[0]=Pe(a)),!1!==p&&Math.abs(o)>m&&Math.abs(s)>O&&(j[1]=Pe(o))),t.updateSharedState({buttons:0}),t.updateGestureState(ke({},v,{tap:n,swipe:j})),t.fireGestureHandler(t.config.filterTaps&&!0===n)}},t.clean=function(){e.prototype.clean.call(Ae(t)),t.state._dragStarted=!1,t.releasePointerCapture(),st(t.controller,t.stateKey)},t.onCancel=function(){t.state.canceled||(t.updateGestureState({canceled:!0,_active:!1}),t.updateSharedState({buttons:0}),setTimeout((function(){return t.fireGestureHandler()}),0))},t.onClick=function(e){t.state._dragIsTap||e.stopPropagation()},t}Ce(t,e);var n=t.prototype;return n.startDrag=function(e,t){void 0===t&&(t=!1),this.state._active&&!this.state._dragStarted&&(t||this.setStartState(e),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())},n.addBindings=function(e){this.config.useTouch?(mt(e,"onTouchStart",this.onDragStart),mt(e,"onTouchMove",this.onDragChange),mt(e,"onTouchEnd",this.onDragEnd),mt(e,"onTouchCancel",this.onDragEnd)):(mt(e,"onPointerDown",this.onDragStart),mt(e,"onPointerMove",this.onDragChange),mt(e,"onPointerUp",this.onDragEnd),mt(e,"onPointerCancel",this.onDragEnd)),this.config.filterTaps&&mt(e,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},t}(function(e){function t(){return e.apply(this,arguments)||this}Ce(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){return Ee(e,t.initial)},n.checkIntentionality=function(e,t){if(!1===e[0]&&!1===e[1])return{_intentional:e,axis:this.state.axis};var n=t.map(Math.abs),r=n[0],a=n[1],o=this.state.axis||(r>a?"x":r<a?"y":void 0);return this.config.axis||this.config.lockDirection?o?this.config.axis&&o!==this.config.axis?{_intentional:e,_blocked:!0,axis:o}:(e["x"===o?1:0]=!1,{_intentional:e,_blocked:!1,axis:o}):{_intentional:[!1,!1],_blocked:!1,axis:o}:{_intentional:e,_blocked:!1,axis:o}},n.getKinematics=function(e,t){var n=this.getMovement(e);if(!n._blocked){var r=t.timeStamp-this.state.timeStamp;Object.assign(n,function(e,t,n){var r=Se(t),a=0===r?0:1/r,o=0===n?0:1/n,c=o*r,i=t.map((function(e){return o*e})),s=t.map((function(e){return a*e}));return{velocities:i,velocity:c,distance:Se(e),direction:s}}(n.movement,n.delta,r))}return n},n.mapStateValues=function(e){return{xy:e.values,vxvy:e.velocities}},t}(function(){function e(e,t){var n=this;void 0===t&&(t=[]),this.controller=e,this.args=t,this.debounced=!0,this.setTimeout=function(e,t){var r;void 0===t&&(t=140),clearTimeout(n.controller.timeouts[n.stateKey]);for(var a=arguments.length,o=new Array(a>2?a-2:0),c=2;c<a;c++)o[c-2]=arguments[c];n.controller.timeouts[n.stateKey]=(r=window).setTimeout.apply(r,[e,t].concat(o))},this.clearTimeout=function(){clearTimeout(n.controller.timeouts[n.stateKey])},this.fireGestureHandler=function(e){if(void 0===e&&(e=!1),n.state._blocked)return n.debounced||(n.state._active=!1,n.clean()),null;if(!e&&!n.state.intentional&&!n.config.triggerAllEvents)return null;if(n.state.intentional){var t=n.state.active,r=n.state._active;n.state.active=r,n.state.first=r&&!t,n.state.last=t&&!r,n.controller.state.shared[n.ingKey]=r}var a=n.controller.pointerIds.size||n.controller.touchIds.size,o=n.controller.state.shared.buttons>0||a>0,c=ke({},n.controller.state.shared,n.state,n.mapStateValues(n.state),{locked:!!document.pointerLockElement,touches:a,down:o}),i=n.handler(c);return n.state.memo=void 0!==i?i:n.state.memo,c},this.controller=e,this.args=t}var t,n,r=e.prototype;return r.updateSharedState=function(e){Object.assign(this.controller.state.shared,e)},r.updateGestureState=function(e){Object.assign(this.state,e)},r.checkIntentionality=function(e,t){return{_intentional:e,_blocked:!1}},r.getMovement=function(e){var t=this.config.rubberband,n=this.state,r=n._bounds,a=n._initial,o=n._active,c=n._intentional,i=n.lastOffset,s=n.movement,l=n._threshold,u=this.getInternalMovement(e,this.state),p=!1===c[0]?tt(u[0],l[0]):c[0],d=!1===c[1]?tt(u[1],l[1]):c[1],b=this.checkIntentionality([p,d],u);if(b._blocked)return ke({},b,{_movement:u,delta:[0,0]});var m=b._intentional,g=u,f=[!1!==m[0]?u[0]-m[0]:0,!1!==m[1]?u[1]-m[1]:0],O=we(f,i),h=o?t:[0,0];return f=nt(r,we(f,a),h),ke({},b,{intentional:!1!==m[0]||!1!==m[1],_initial:a,_movement:g,movement:f,values:e,offset:nt(r,O,h),delta:Ee(f,s)})},r.clean=function(){this.clearTimeout()},t=e,(n=[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}},{key:"transform",get:function(){return this.config.transform||this.controller.config.transform||et}}])&&Te(t.prototype,n),e}()));function jt(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,o,c;if(Array.isArray(t)){if((r=t.length)!==n.length)return!1;for(a=r;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if("function"==typeof Map&&t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(c=t.entries();!(a=c.next()).done;)if(!n.has(a.value[0]))return!1;for(c=t.entries();!(a=c.next()).done;)if(!e(a.value[1],n.get(a.value[0])))return!1;return!0}if("function"==typeof Set&&t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(c=t.entries();!(a=c.next()).done;)if(!n.has(a.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(n,o[a]))return!1;if("undefined"!=typeof Element&&t instanceof Element)return!1;for(a=r;0!=a--;)if(!("_owner"===o[a]&&t.$$typeof||e(t[o[a]],n[o[a]])))return!1;return!0}return t!=t&&n!=n}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}var _t=n(14),yt=function({label:e,className:t,onDragChange:n,onDragEnd:r,direction:a="left",...o}){const i=function(e,t){void 0===t&&(t={}),Ze.set("drag",vt);var o=Object(_e.useRef)();return o.current||(o.current=function(e,t){var n,r,a=[],o=!1;return function(){for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return o&&n===this&&t(i,a)||(r=e.apply(this,i),o=!0,n=this,a=i),r}}(Ye,jt)),function(e,t,n){void 0===n&&(n={});var r=function(e){var t=new Set;return e.drag&&t.add(Ze.get("drag")),e.wheel&&t.add(Ze.get("wheel")),e.scroll&&t.add(Ze.get("scroll")),e.move&&t.add(Ze.get("move")),e.pinch&&t.add(Ze.get("pinch")),e.hover&&t.add(Ze.get("hover")),t}(e),a=ye.a.useMemo((function(){return new ot(r)}),[]);return a.config=t,a.handlers=e,a.nativeRefs=n,ye.a.useEffect(a.effect,[]),a.config.domTarget?Ot:a.bind}({drag:({delta:e,dragging:t})=>{const o="left"===a?-2:2;t?n(e[0]*o):r()}},o.current(t))}();return Object(c.createElement)("div",{className:"pattern-preview__drag-handle "+t},Object(c.createElement)("button",m()({className:"pattern-preview__drag-handle-button","aria-label":e},o,{onKeyDown:e=>{const{keyCode:t}=e;"left"===a&&t===_t.LEFT||"right"===a&&t===_t.RIGHT?n(20):("left"===a&&t===_t.RIGHT||"right"===a&&t===_t.LEFT)&&n(-20)},onKeyUp:r},i())))},wt=function e({blockContent:t}){const n=Object(fe.useViewportMatch)("mobile",">="),r=Object(fe.useViewportMatch)("large",">="),a=Object(fe.useViewportMatch)("wide",">="),o=Object(fe.useInstanceId)(e),[s,l]=Object(c.useState)(window.innerWidth<960?window.innerWidth:960),u=Object(c.useCallback)(e=>l(t=>t+e),[l]),p=()=>{s<280&&l(280)},d=Object(c.useMemo)(()=>n?a?[{label:Object(i.__)("Full (1200px)","wporg-patterns"),value:1200},{label:Object(i.__)("Default (960px)","wporg-patterns"),value:960},{label:Object(i.__)("Medium (480px)","wporg-patterns"),value:480},{label:Object(i.__)("Narrow (320px)","wporg-patterns"),value:320}]:r?[{label:Object(i.__)("Default (960px)","wporg-patterns"),value:960},{label:Object(i.__)("Medium (480px)","wporg-patterns"),value:480},{label:Object(i.__)("Narrow (320px)","wporg-patterns"),value:320}]:[{label:Object(i.__)("Medium (480px)","wporg-patterns"),value:480},{label:Object(i.__)("Narrow (320px)","wporg-patterns"),value:320}]:[],[n,r,a]);let b=!1;if(!d.some(e=>e.value===s)){const e=Math.max(Math.floor(s),280);b={
/* translators: %s is the width in pixels, ex 600. */
label:Object(i.sprintf)(Object(i.__)("Current (%spx)","wporg-patterns"),e),value:e}}return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("div",{className:"pattern-preview__size-control"},n&&Object(c.createElement)(Oe.SelectControl,{hideLabelFromVision:!0,label:Object(i.__)("Preview Width","wporg-patterns"),value:s,options:b?[b,...d]:d,onChange:e=>l(Number(e))})),Object(c.createElement)("div",{className:"pattern-preview__viewport",style:{width:s+40}},Object(c.createElement)(yt,{label:Object(i.__)("Drag to resize","wporg-patterns"),className:"is-left",onDragChange:u,onDragEnd:p,direction:"left","aria-describedby":"pattern-preview__resize-help-"+o}),Object(c.createElement)(je,{html:t}),Object(c.createElement)(yt,{label:Object(i.__)("Drag to resize","wporg-patterns"),className:"is-right",onDragChange:u,onDragEnd:p,direction:"right","aria-describedby":"pattern-preview__resize-help-"+o}),Object(c.createElement)(Oe.VisuallyHidden,{id:"pattern-preview__resize-help-"+o,className:"pattern-preview__resize-help"},Object(i.__)("Use left and right arrow keys to resize the preview.","wporg-patterns"))))};const Et=()=>Object(c.createElement)("div",{style:{height:"220px"}},Object(c.createElement)("img",{src:wporgPatternsUrl.assets+"/images/copy-paste-demo.gif",alt:Object(i.__)("GIF of copy and pasting.","wporg-patterns")}));var St=({onFinish:e})=>Object(c.createElement)(Oe.Animate,{type:"appear",options:{origin:"bottom"}},({className:t})=>Object(c.createElement)(Oe.Guide,{className:"pattern-actions__guide "+t,onFinish:e,finishButtonText:Object(i.__)("Close","wporg-patterns"),pages:[{image:Object(c.createElement)(Et,null),content:Object(c.createElement)("div",{className:"pattern-actions__guide-content"},Object(c.createElement)("h3",{className:"pattern-actions__guide-title"},Object(i.__)("How to use patterns on your WordPress site.","wporg-patterns")),Object(c.createElement)("p",null,Object(i.__)("Patterns are really just text. And, just like you can copy and paste text, you can copy and paste patterns. It’s really easy!","wporg-patterns")),Object(c.createElement)("ol",null,Object(c.createElement)("li",null,Object(c.createElement)("p",null,Object(i.__)("Open any post or page in the WordPress block editor.","wporg-patterns"))),Object(c.createElement)("li",null,Object(c.createElement)("p",null,Object(i.__)("Place your cursor where you want to add the pattern.","wporg-patterns"))),Object(c.createElement)("li",null,Object(c.createElement)("p",null,Object(c.createInterpolateElement)(Object(i.__)("Paste the contents of your clipboard by holding down <kbd>ctrl</kbd> control (Windows) or <kbd>⌘</kbd> command (Mac) and pressing the <kbd>v</kbd> key, or right-clicking and choose “Paste” from the menu.","wporg-patterns"),{kbd:Object(c.createElement)("kbd",{className:"pattern-actions__guide-shortcut"})})))))}]})),Pt=n(8),Nt=n.n(Pt),xt=n(15),Tt=n(12),kt=({isSmall:e=!1,onSuccess:t=xt.noop,content:n})=>{const[r,a]=Object(c.useState)(!1);if(!n){const e=document.getElementById("block-data");n=JSON.parse(decodeURIComponent(e.value))}Object(c.useEffect)(()=>{if(!r)return;Object(Tt.speak)(Object(i.__)("Copied pattern to clipboard.","wporg-patterns"));const e=setTimeout(()=>a(!1),2e4);return()=>{clearTimeout(e)}},[r]);let o=Object(i.__)("Copy Pattern","wporg-patterns");e&&(o=r?Object(i.__)("Copied","wporg-patterns"):Object(i.__)("Copy","wporg-patterns"));const s=Nt()({"pattern-copy-button":!0,"is-small-label":e});return Object(c.createElement)(Oe.Button,{className:s,isPrimary:!0,onClick:({target:e})=>{const r=(e=>{const t=document.createElement("textarea");t.setAttribute("readonly",""),t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.left="-9999px",t.value=e,document.body.appendChild(t),t.select();const n=document.execCommand("copy");return document.body.removeChild(t),n})(n);a(r),e.focus(),r&&t()}},o)},Ct=({onClick:e})=>Object(c.createElement)(Oe.Notice,{className:"pattern-actions__notice",status:"success",isDismissible:!1,actions:[{label:Object(i.__)("Learn More","wporg-patterns"),onClick:e,variant:"secondary"}]},Object(c.createElement)("div",null,Object(c.createElement)("strong",null,Object(i.__)("Pattern copied!","wporg-patterns")),Object(i.__)("Now you can paste it into any WordPress post or page.","wporg-patterns"))),At=n(16),It=function(e){return Object(c.createElement)(g.SVG,m()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},e),Object(c.createElement)(g.Path,{d:"M12 4.915c1.09-1.28 2.76-2.09 4.5-2.09 3.08 0 5.5 2.42 5.5 5.5 0 3.777-3.394 6.855-8.537 11.518l-.013.012-1.45 1.32-1.45-1.31-.04-.036C5.384 15.17 2 12.095 2 8.325c0-3.08 2.42-5.5 5.5-5.5 1.74 0 3.41.81 4.5 2.09zm0 13.56l.1-.1c4.76-4.31 7.9-7.16 7.9-10.05 0-2-1.5-3.5-3.5-3.5-1.54 0-3.04.99-3.56 2.36h-1.87c-.53-1.37-2.03-2.36-3.57-2.36-2 0-3.5 1.5-3.5 3.5 0 2.89 3.14 5.74 7.9 10.05l.1.1z"}))},Lt=({showLabel:e=!0,patternId:t})=>{const{hasPermission:n,isFavorite:r}=Object(l.useSelect)(e=>(e(me).getFavorites(),{hasPermission:!!e(At.store).canUser("create","../../wporg/v1/pattern-favorites"),isFavorite:e(me).isFavorite(t)})),{addFavorite:a,removeFavorite:o}=Object(l.useDispatch)(me),s=Object(c.useCallback)(()=>{r?o(t):a(t)},[r]);if(!n)return null;const u=Nt()("button button-link pattern-favorite-button",{"is-favorited":r,"has-label":e}),p=Nt()({"screen-reader-text":!e});return Object(c.createElement)("button",{className:u,onClick:s},Object(c.createElement)(f,{className:"pattern-favorite-button__filled"}),Object(c.createElement)(It,{className:"pattern-favorite-button__outline"}),Object(c.createElement)("span",{className:p},r?Object(i.__)("Remove from favorites","wporg-patterns"):Object(i.__)("Add to favorites","wporg-patterns")))},Rt=n(13),Dt=n.n(Rt),Ft=Object(c.createElement)(g.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(c.createElement)(g.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})),Mt=({patternId:e,isSmall:t})=>{const{isDraft:n}=Object(l.useSelect)(t=>{const n=t(me).getPattern(e);return{isDraft:"draft"===(null==n?void 0:n.status)}},[e]),{loadPattern:r}=Object(l.useDispatch)(me),a=()=>{Dt()({path:`/wp/v2/wporg-pattern/${e}/`,method:"PUT",data:{status:"draft"}}).then(t=>{r(e,t)})},o=()=>{window.confirm(Object(i.__)("Are you sure you want to delete this pattern?","wporg-patterns"))&&Dt()({path:`/wp/v2/wporg-pattern/${e}/`,method:"DELETE"}).then(()=>{window.location=wporgPatternsUrl.site+"/my-patterns/"})},s=`${wporgPatternsUrl.site}/pattern/${e}/edit/`,u=t?Object(c.createElement)(Oe.Icon,{icon:Ft}):Object(c.createElement)(c.Fragment,null,Object(i.__)("Options","wporg-patterns"),Object(c.createElement)(Oe.Icon,{icon:Ft})),p=t?"pattern-manage-options__button is-small":"pattern-manage-options__button";return Object(c.createElement)(Oe.DropdownMenu,{className:"pattern-manage-options",icon:null,toggleProps:{className:p,children:u,variant:"secondary"},popoverProps:{position:"bottom center",className:"pattern-manage-options__popover"}},()=>Object(c.createElement)(c.Fragment,null,Object(c.createElement)(Oe.MenuItem,{href:s},Object(i.__)("Open in editor","wporg-patterns")),!n&&Object(c.createElement)(Oe.MenuItem,{onClick:a},Object(i.__)("Revert to draft","wporg-patterns")),Object(c.createElement)(Oe.MenuItem,{isDestructive:!0,variant:"link",onClick:o},Object(i.__)("Delete pattern","wporg-patterns"))))},Bt=({postId:e,showOptions:t})=>{const[n,r]=Object(c.useState)(!1),[a,o]=Object(c.useState)(!1);return Object(c.createElement)("div",{className:"pattern-actions"},Object(c.createElement)("div",{className:"pattern-actions__container"},Object(c.createElement)(kt,{onSuccess:()=>r(!0)}),Object(c.createElement)(Lt,{patternId:e}),t&&Object(c.createElement)(Mt,{patternId:e}),n&&Object(c.createElement)(Ct,{onClick:()=>o(!0)}),a&&Object(c.createElement)(St,{onFinish:()=>o(!1)})))},Qt=function({className:e,html:t}){const n=Object(c.useRef)(),[r,a]=Object(c.useState)("1px"),[o,s]=Object(c.useState)(.3125),l=(({element:e})=>{const[t,n]=Object(c.useState)(null);Object(c.useEffect)(()=>{if(!e.current)return;const t=Object(xt.debounce)(r,200);return r(),window.addEventListener("scroll",t),window.addEventListener("resize",t),()=>{window.removeEventListener("scroll",t),window.addEventListener("resize",t)}},[e]);const r=()=>{if(!e.current)return;const t=window.innerHeight,{top:r}=e.current.getBoundingClientRect();n(r>=0&&r<=t)};return t})({element:n}),[u,p]=Object(c.useState)(!1);Object(c.useEffect)(()=>{l&&p(!0)},[l]),Object(c.useEffect)(()=>{const e=()=>{try{a(O(n.current.clientWidth)),s(n.current.clientWidth/800)}catch(e){}};return e(),window.addEventListener("resize",e),()=>{window.addEventListener("resize",e)}},[]);const d={border:"none",width:"800px",maxWidth:"none",height:O(800)+"px",transform:`scale(${o})`,transformOrigin:Object(i.isRTL)()?"top right":"top left",pointerEvents:"none"};return Object(c.createElement)("div",{className:e,ref:n,style:{height:r},tabIndex:"-1"},Object(c.createElement)(ve,{className:"pattern-grid__preview-iframe",style:d,bodyStyle:"overflow: hidden;",headHTML:window.__editorStyles.html},Object(c.createElement)("div",{dangerouslySetInnerHTML:{__html:u?t:""}})))},qt=({className:e,label:t,patternId:n})=>{const{hasPermission:r,isFavorite:a}=Object(l.useSelect)(e=>(e(me).getFavorites(),{hasPermission:!!e(At.store).canUser("create","../../wporg/v1/pattern-favorites"),isFavorite:e(me).isFavorite(n)})),{addFavorite:o,removeFavorite:i}=Object(l.useDispatch)(me),s=Object(c.useCallback)(()=>{a?i(n):o(n)},[a]),u=Nt()(e,"pattern-favorite-button-small",{button:r,"button-link":r,"is-favorited":a});return r?Object(c.createElement)("button",{className:u,onClick:s},Object(c.createElement)(f,{className:"pattern-favorite-button__filled"}),Object(c.createElement)("span",null,t)):Object(c.createElement)("span",{className:u},Object(c.createElement)(f,{className:"pattern-favorite-button__filled"}),Object(c.createElement)("span",null,t))},Ut=function({pattern:e,showAvatar:t,showOptions:n}){const r=function(e){switch(e.status){case"pending":return Object(i.__)("Pending","wporg-patterns");case"draft":return Object(i.__)("Draft","wporg-patterns");case"declined":return Object(i.__)("Declined","wporg-patterns")}return""}(e);return Object(c.createElement)("div",{className:"pattern-grid__pattern"},Object(c.createElement)("div",{className:"pattern-grid__pattern-frame"},Object(c.createElement)("a",{href:e.link,rel:"bookmark"},Object(c.createElement)("span",{className:"screen-reader-text"},Object(s.decodeEntities)(e.title.rendered)),Object(c.createElement)(Oe.Disabled,null,Object(c.createElement)(Qt,{className:"pattern-grid__preview",html:e.content.rendered}))),r?Object(c.createElement)("div",{className:"pattern-grid__status is-"+e.status},Object(c.createElement)("span",null,r)):null,Object(c.createElement)("span",{className:"pattern-grid__actions"},Object(c.createElement)(Lt,{showLabel:!1,patternId:e.id}),n&&Object(c.createElement)(Mt,{isSmall:!0,patternId:e.id}),Object(c.createElement)(kt,{isSmall:!0,content:e.pattern_content}))),Object(c.createElement)("h2",{className:"pattern-grid__title"},Object(c.createElement)("a",{href:e.link},Object(s.decodeEntities)(e.title.rendered))),Object(c.createElement)("p",{className:"pattern-grid__meta"},t&&e.author_meta?Object(c.createElement)("a",{href:e.author_meta.url,className:"pattern-grid__author-avatar"},Object(c.createElement)("img",{alt:"",src:e.author_meta.avatar}),e.author_meta.name):null,e.favorite_count>0?Object(c.createElement)(qt,{className:"pattern-grid__favorite-count",patternId:e.id,label:Object(c.createElement)(c.Fragment,null,Object(c.createElement)("span",{className:"screen-reader-text"},Object(i.sprintf)(
/* translators: %s is the favorite count for a pattern. */
Object(i._n)("Favorited %s times","Favorited %s times",e.favorite_count,"wporg-patterns"),e.favorite_count)),Object(c.createElement)("span",{"aria-hidden":!0},e.favorite_count))}):null))},$t=function({icon:e,size:t=24,...n}){return Object(c.cloneElement)(e,{width:t,height:t,...n})},Kt=Object(c.createElement)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(g.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"}));const Vt=(e,t)=>{switch(t.status){case"submitting":return{isSubmitting:!0};case"submitted":return{isSubmitted:!0};case"error":return{hasError:!0,message:t.message};default:return{}}};var Gt=({postId:e,onClose:t})=>{const[n,r]=Object(c.useReducer)(Vt,{}),[a,o]=Object(c.useState)(""),[s,u]=Object(c.useState)(""),p=Object(c.useRef)(),d=Object(i.__)("Your report has been submitted.","wporg-patterns"),{isLoading:b,mappedReasons:m}=Object(l.useSelect)(e=>{const{getPatternFlagReasons:t,isLoadingPatternFlagReasons:n}=e(me),r=t()||[];return{isLoading:n(),mappedReasons:r.sort((e,t)=>{switch(!0){case e.slug<t.slug:return-1;case e.slug>t.slug:return 1;default:return 0}}).map(e=>({label:e.name,value:e.id.toString()}))}}),g=()=>{t(n.isSubmitted)};return Object(c.createElement)(Oe.Modal,{className:"pattern-report-modal "+(n.isSubmitted?"":"pattern-report-modal__has-fixed-height"),title:Object(i.__)("Report this pattern","wporg-patterns"),onRequestClose:g},Object(c.createElement)("div",{ref:p},b?Object(c.createElement)(Oe.Spinner,null):n.isSubmitted?Object(c.createElement)("p",{className:"pattern-report-modal__copy"},d):Object(c.createElement)("form",{onSubmit:t=>{t.preventDefault(),a&&s.length&&!n.isSubmitted&&!n.isSubmitting&&(r({status:"submitting"}),Dt()({path:Object(j.addQueryArgs)("/wp/v2/wporg-pattern-flag"),method:"POST",data:{parent:e,"wporg-pattern-flag-reason":a,excerpt:s}}).then(()=>{r({status:"submitted"}),Object(Tt.speak)(d),p.current.closest('[role="dialog"]').focus()}).catch(e=>{r({status:"error",message:e.message}),Object(Tt.speak)(Object(i.sprintf)(
/* translators: %s: Error message. */
Object(i.__)("Error: %s","wporg-patterns"),e.message))}))}},Object(c.createElement)(Oe.RadioControl,{className:"pattern-report-modal__radio",label:Object(i.__)("Please choose a reason:","wporg-patterns"),selected:a,options:m,onChange:o,required:!0}),Object(c.createElement)(Oe.TextareaControl,{label:Object(i.__)("Please provide details (required)","wporg-patterns"),value:s,onChange:u,required:!0}),n.hasError&&Object(c.createElement)("div",{className:"notice notice-large notice-alt notice-error"},n.message),Object(c.createElement)("div",{className:"pattern-report-modal__actions"},Object(c.createElement)(Oe.Button,{isSecondary:!0,onClick:g},Object(i.__)("Cancel","wporg-patterns")),Object(c.createElement)(Oe.Button,{type:"submit",isBusy:n.isSubmitting,isPrimary:!0},n.isSubmitting?Object(i.__)("Submitting …","wporg-patterns"):Object(i.__)("Report","wporg-patterns"))))))},zt=({postId:e,userHasReported:t})=>{const[n,r]=Object(c.useState)(!1),[a,o]=Object(c.useState)(!1),s=t||a,l=!!wporgPatternsData.userId;return s?Object(c.createElement)("p",{className:"pattern-report-button__copy"},Object(c.createElement)($t,{icon:Kt}),Object(i.__)("You've reported this pattern","wporg-patterns")):l?Object(c.createElement)(c.Fragment,null,Object(c.createElement)(Oe.Button,{className:"pattern-report-button",isLink:!0,onClick:()=>r(!0)},Object(i.__)("Report this pattern","wporg-patterns")),n&&Object(c.createElement)(Gt,{postId:e,onClose:e=>{r(!1),o(e)}})):Object(c.createElement)("p",{className:"pattern-report-button__copy"},Object(c.createElement)("a",{href:Object(j.addQueryArgs)("/wp-login.php",{redirect_to:window.location.pathname})},Object(i.__)("Login to report this pattern","wporg-patterns")))},Ht=function({pattern:e}){const[t,n]=Object(c.useState)(!1),r=()=>n(!0),a=()=>n(!1);switch(e.status){case"pending":return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(Oe.Notice,{className:"pattern__status-notice",status:"warning",isDismissible:!1,actions:[{label:Object(i.__)("Learn More","wporg-patterns"),onClick:r,variant:"secondary"}]},Object(c.createElement)("p",null,Object(c.createElement)("strong",null,Object(i.__)("Review pending.","wporg-patterns")),Object(i.__)("This pattern is only visible to you. Once approved it will be published to everyone.","wporg-patterns"))),t&&Object(c.createElement)(Oe.Modal,{title:Object(i.__)("Review Pending","wporg-patterns"),onRequestClose:a,className:"pattern__status-notice-modal"},Object(c.createElement)("p",null,Object(i.__)("All patterns submitted to WordPress.org are subject to both automated and manual approval. It might take a few days for your pattern to be approved.","wporg-patterns")),Object(c.createElement)("p",null,Object(i.__)("Reviewers look for content that may be problematic (copyright or trademark issues) and whether your pattern works as intended.","wporg-patterns"))));case"draft":return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(Oe.Notice,{className:"pattern__status-notice",status:"info",isDismissible:!1,actions:[{label:Object(i.__)("Learn More","wporg-patterns"),onClick:r,variant:"secondary"}]},Object(c.createElement)("p",null,Object(c.createElement)("strong",null,Object(i.__)("Saved as draft.","wporg-patterns")),Object(i.__)("This pattern is only visible to you. When you’re ready, submit it to be published to everyone.","wporg-patterns"))),t&&Object(c.createElement)(Oe.Modal,{title:Object(i.__)("Drafts","wporg-patterns"),onRequestClose:a,className:"pattern__status-notice-modal"},Object(c.createElement)("p",null,Object(i.__)("Patterns can be saved as a draft which can be submitted for approval at any time. This allows you to save your design and come back to it later to submit.","wporg-patterns"))));case"declined":return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(Oe.Notice,{className:"pattern__status-notice",status:"error",isDismissible:!1,actions:[{label:Object(i.__)("Learn More","wporg-patterns"),onClick:r,variant:"secondary"}]},Object(c.createElement)("p",null,Object(c.createElement)("strong",null,Object(i.__)("Pattern declined.","wporg-patterns")),Object(i.__)("WordPress.org has chosen not to include this pattern in the directory.","wporg-patterns"))),t&&Object(c.createElement)(Oe.Modal,{title:Object(i.__)("Declined","wporg-patterns"),onRequestClose:a,className:"pattern__status-notice-modal"},Object(c.createElement)("p",null,Object(i.__)("WordPress.org has chosen to decline listing your pattern for the following reason:","wporg-patterns")),Object(c.createElement)("p",null,Object(i.__)("You can update your pattern to resubmitt it for approval at any time.","wporg-patterns"))));case"publish":return Object(c.createElement)(Oe.Notice,{className:"pattern__status-notice",status:"success",isDismissible:!1},Object(c.createElement)("p",null,Object(c.createElement)("strong",null,Object(i.__)("Pattern published!","wporg-patterns")),Object(i.__)("Your new design is now available to everyone.","wporg-patterns")))}return null},Wt=({postId:e,userHasReported:t})=>{e=Number(e)||0;const{pattern:n,categories:r}=Object(l.useSelect)(t=>{const n=t(me).getPattern(e),r=t(me).getCategories()||[],a=null==n?void 0:n["pattern-categories"].map(e=>r.find(({id:t})=>t===e)).filter(Boolean);return{pattern:n,categories:a||[]}},[e]);if(!n)return null;const a=window.wporgPatternsData.userId===n.author;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("header",{className:"entry-header"},a&&Object(c.createElement)(Ht,{pattern:n}),Object(c.createElement)("h1",{className:"entry-title"},Object(s.decodeEntities)(n.title.rendered)),Object(c.createElement)("div",{className:"pattern__categories"},r.map(({id:e,name:t,link:n})=>Object(c.createElement)("a",{href:n,key:e},Object(s.decodeEntities)(t))))),Object(c.createElement)(Bt,{postId:e,showOptions:a}),Object(c.createElement)("div",{className:"pattern-preview__container"},Object(c.createElement)(wt,{blockContent:n.content.rendered}),Object(c.createElement)("div",{className:"pattern__meta"},Object(c.createElement)(zt,{userHasReported:"true"===t,postId:e}))),Object(c.createElement)("div",{className:"entry-content"},Object(c.createElement)(ge,{query:{author:n.author,per_page:3,exclude:e},showPagination:!1,header:Object(c.createElement)(c.Fragment,null,Object(c.createElement)("h2",null,Object(i.__)("More from this designer","wporg-patterns")),Object(c.createElement)(u,n.author_meta))},e=>Object(c.createElement)(Ut,{key:e.id,pattern:e}))))};const Yt=e=>{const t=document.getElementById("breadcrumb-part");t&&(t.innerText=e)};var Xt=()=>{const{path:e}=P(),{authorName:t,categoryName:n}=Object(l.useSelect)(t=>{const n=t(me).getQueryFromUrl(e),r=t(me).getCategoryById(n["pattern-categories"]);return{authorName:wporgPatternsData.currentAuthorName||(null==n?void 0:n.author_name),categoryName:null==r?void 0:r.name}},[]);return Object(c.useEffect)(()=>{t?
// translators: %s is the author name.
Yt(Object(i.sprintf)(Object(i.__)("Author: %s","wporg-patterns"),t)):n&&
// translators: %s is the category name.
Yt(Object(i.sprintf)(Object(i.__)("Category: %s","wporg-patterns"),n))},[e]),null},Jt=Object.prototype.hasOwnProperty;function Zt(e,t,n){for(n of e.keys())if(en(n,t))return n}function en(e,t){var n,r,a;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&en(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((a=r)&&"object"==typeof a&&!(a=Zt(t,a)))return!1;if(!t.has(a))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((a=r[0])&&"object"==typeof a&&!(a=Zt(t,a)))return!1;if(!en(r[1],t.get(a)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"==typeof e){for(n in r=0,e){if(Jt.call(e,n)&&++r&&!Jt.call(t,n))return!1;if(!(n in t)||!en(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!=e&&t!=t}function tn(e,t){return _e.useEffect(e,(n=t,r=_e.useRef(n),a=_e.useRef(0),en(n,r.current)||(r.current=n,a.current+=1),_e.useMemo((function(){return r.current}),[a.current])));var n,r,a}const nn=(e=1,t=1)=>1===t?"":Object(i.sprintf)(Object(i.__)("Page %1$d of %2$d.","wporg-patterns"),e,t)
/* translators: %1$d: current page. %2$d: total number of pages.  */;var rn=function(e){const{path:t}=P(),[n,r]=Object(c.useState)(),[a]=Object(c.useState)({title:"",links:[]}),{author:o,category:s,count:u,isLoadingPatterns:p,pageLabel:d,query:b}=Object(l.useSelect)(n=>{const{getCategoryById:r,getPatternTotalsByQuery:a,getPatternTotalPagesByQuery:o,getQueryFromUrl:c,isLoadingPatternsByQuery:i}=n(me),s={...c(t),...e.query},l=i(s);return{author:wporgPatternsData.currentAuthorName||(null==s?void 0:s.author_name),category:r(s["pattern-categories"]),count:a(s),isLoadingPatterns:l,pageLabel:s&&!l?nn(s.page,o(s)):"",query:s}},[t,e.query]);tn(()=>{if(((e={})=>!e.hasOwnProperty("include")||e.include.length>0)(b)&&p)return void r((({category:e,author:t})=>e&&t?Object(c.createInterpolateElement)(Object(i.sprintf)(
/* translators: %1$s category name, %2$s author name. */
Object(i.__)("Loading <b>%1$s</b> patterns by %2$s.","wporg-patterns"),e,t),{b:Object(c.createElement)("b",null)}):e?Object(c.createInterpolateElement)(Object(i.sprintf)(
/* translators: %s category name. */
Object(i.__)("Loading <b>%s</b> patterns.","wporg-patterns"),e),{b:Object(c.createElement)("b",null)}):t?Object(c.createInterpolateElement)(Object(i.sprintf)(
/* translators: %s author name. */
Object(i.__)("Loading patterns by <b>%s</b>.","wporg-patterns"),t),{b:Object(c.createElement)("b",null)}):Object(i.__)("Loading patterns","wporg-patterns"))({category:null==s?void 0:s.name,author:o}));if((e=>!Object.keys(e||{}).filter(e=>!["orderby","page"].includes(e)).length)(b))return void r("");const e=(null==b?void 0:b.search)||"";e.length>0?r(((e,t)=>Object(c.createInterpolateElement)(Object(i.sprintf)(
/* translators: %1$d: number of patterns. %2$s search term.  */
Object(i._n)("%1$d pattern found for <b>%2$s</b>","%1$d patterns found for <b>%2$s</b>",e,"wporg-patterns"),e,t.replace(/\+/g," "),"wporg-patterns"),{b:Object(c.createElement)("b",null)}))(u,e)):(r((({category:e,author:t},n)=>e&&t?Object(c.createInterpolateElement)(Object(i.sprintf)(
/* translators: %1$d: number of patterns, %2$s category name, %3$s author name. */
Object(i._n)("%1$d <b>%2$s</b> pattern by %3$s.","%1$d <b>%2$s</b> patterns by %3$s.",n,"wporg-patterns"),n,e,t),{b:Object(c.createElement)("b",null)}):e?Object(c.createInterpolateElement)(Object(i.sprintf)(
/* translators: %1$d: number of patterns, %2$s category name. */
Object(i._n)("%1$d <b>%2$s</b> pattern.","%1$d <b>%2$s</b> patterns.",n,"wporg-patterns"),n,e,"wporg-patterns"),{b:Object(c.createElement)("b",null)}):t?Object(c.createInterpolateElement)(Object(i.sprintf)(
/* translators: %1$d: number of patterns, %2$s author name. */
Object(i._n)("%1$d pattern by <b>%2$s</b>.","%1$d patterns by <b>%2$s</b>.",n,"wporg-patterns"),n,t),{b:Object(c.createElement)("b",null)}):Object(i.__)("Loading patterns","wporg-patterns"))({category:null==s?void 0:s.name,author:o},u)),null!=b&&b.include&&!s&&r(""))},[b,p]);const m=Nt()({"context-bar__spinner":!0,"context-bar__spinner--is-hidden":!p});return Object(c.createElement)("div",{className:n?null:"screen-reader-text"},Object(c.createElement)("header",{className:"context-bar","aria-live":"polite","aria-atomic":"true",tabIndex:"0"},Object(c.createElement)("h2",{className:"context-bar__copy"},Object(c.createElement)("span",{className:m},Object(c.createElement)(Oe.Spinner,null)),Object(c.createElement)("span",null,n||Object(i.__)("All patterns.","wporg-patterns")),d&&Object(c.createElement)("span",{className:"screen-reader-text"},d)),a.links&&a.links.length>0&&Object(c.createElement)("div",{className:"context-bar__links"},Object(c.createElement)("h3",{className:"context-bar__title"},a.title),Object(c.createElement)("ul",null,a.links.map(e=>Object(c.createElement)("li",{key:e.href},Object(c.createElement)("a",{href:e.href},e.label)))))))},an=()=>{const{path:e}=P(),t=Object(l.useSelect)(t=>{var n;const r=t(me).getQueryFromUrl(e),a=null===(n=t(me).getCategoryById(r["pattern-categories"]))||void 0===n?void 0:n.name,o=wporgPatternsData.currentAuthorName||(null==r?void 0:r.author_name),c=w(e),s=_(e).replace(/^\/patterns/,"").split("/")[1]||"",l=[];return"categories"===s&&a?l.push(
/* translators: Taxonomy term name */
Object(i.sprintf)(Object(i.__)("Block Patterns: %s","wporg-patterns"),a)):"author"===s&&o?l.push(
/* translators: Author name */
Object(i.sprintf)(Object(i.__)("Block Patterns by %s","wporg-patterns"),o)):l.push(Object(i.__)("Block Pattern Directory","wporg-patterns")),c>1&&l.push(
/* translators: Page number */
Object(i.sprintf)(Object(i.__)("Page %d","wporg-patterns"),c)),l.push(Object(i.__)("WordPress.org","wporg-patterns")),l.join(" | ")});return Object(c.useEffect)(()=>{t&&(document.title=t)},[t]),null},on=function(){return Object(c.createElement)("div",{className:"pattern-grid__empty-header"},Object(c.createElement)("h2",null,Object(i.__)("No results found","wporg-patterns")),Object(c.createElement)("p",null,Object(c.createInterpolateElement)(Object(i.__)("View <a>all block patterns</a> or browse some of our recent patterns.","wporg-patterns"),{a:Object(c.createElement)("a",{href:wporgPatternsUrl.site})})))},cn=({options:e})=>{const{path:t,replace:n}=P(),r=Object(fe.useViewportMatch)("medium",">=");return e?Object(c.createElement)("div",{className:"pattern-order-select"},Object(c.createElement)(Oe.SelectControl,{label:Object(i.__)("Order by","wporg-patterns"),labelPosition:"side",hideLabelFromVision:r,value:Object(j.getQueryArg)(window.location.href,"orderby"),options:e,onChange:e=>{n(Object(j.addQueryArgs)(t,{orderby:e}).replace(/\/page\/[\d]+/,""))}})):null},sn=()=>Object(c.createElement)(p,{className:"pattern-menu",style:{flexDirection:"row"}},Array(7).fill().map((e,t)=>Object(c.createElement)(d,{key:t,height:"1.25rem",width:"5rem",marginRight:"1rem"}))),ln=({current:e,isLoading:t,label:n=Object(i.__)("Main Menu","wporg-patterns"),onClick:r,options:a})=>t?Object(c.createElement)(sn,null):a.length?Object(c.createElement)("nav",null,Object(c.createElement)("h2",{className:"screen-reader-text"},n),Object(c.createElement)("ul",{className:"pattern-menu"},a.map(t=>Object(c.createElement)("li",{key:t.value},Object(c.createElement)("a",{className:Nt()({"pattern-menu__item":!0,"is-active":e===t.slug}),href:t.value,onClick:r,"aria-current":e===t.slug?"page":void 0},t.label))))):null,un=({onClick:e,options:t,label:n=Object(i.__)("Browse categories","wporg-patterns")})=>{const[r,a]=Object(c.useState)(!1);return Object(c.createElement)(Oe.PanelBody,{className:"pattern-menu is-mobile",title:n,initialOpen:r,opened:r,onToggle:()=>a(!r)},Object(c.createElement)("ul",null,t.map(t=>Object(c.createElement)("li",{key:t.value},Object(c.createElement)("a",{href:t.value,onClick:t=>{a(!1),e(t)}},t.label)))))},pn=e=>Object(fe.useViewportMatch)("medium","<")?Object(c.createElement)(un,e):Object(c.createElement)(ln,e),dn=({primary:e,secondary:t})=>Object(c.createElement)("div",{className:"pattern-navigation-layout"},e&&Object(c.createElement)("div",{className:"pattern-navigation-layout__primary"},e),t&&Object(c.createElement)("div",{className:"pattern-navigation-layout__secondary"},t)),bn=({basePath:e="",onNavigation:t,...n})=>{const{path:r,update:a}=P(),{categorySlug:o,isLoading:s,options:u}=Object(l.useSelect)(t=>{var n;const{getCategoryById:a,getCategories:o,getQueryFromUrl:c,getUrlFromQuery:i,isLoadingCategories:s}=t(me),l=c(r);delete l.page;const u=(o()||[]).map(t=>({value:i({...l,"pattern-categories":t.id},wporgPatternsUrl.site+e),slug:t.slug,label:t.name}));return{categorySlug:(null===(n=a(l["pattern-categories"]))||void 0===n?void 0:n.slug)||"",isLoading:s(),options:u}});return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(dn,{primary:Object(c.createElement)(pn,{current:o,options:u||[],onClick:e=>{e.preventDefault(),a(e.target.pathname),"function"==typeof t&&t()},isLoading:s}),secondary:Object(c.createElement)(cn,{options:[{label:Object(i.__)("Newest","wporg-patterns"),value:"date"},{label:Object(i.__)("Favorites","wporg-patterns"),value:"favorite_count"}]})}),Object(c.createElement)(rn,n))},mn=()=>{const{setCurrentQuery:e}=Object(l.useDispatch)(me),{path:t}=P(),n=Object(l.useSelect)(e=>e(me).getQueryFromUrl(t),[t]);return tn(()=>{e(n)},[n]),null},gn=n(17);function fn(){const e=Object(c.useRef)(),t=Object(c.useCallback)(()=>{if(null==e||!e.current)return;const t=gn.focus.tabbable.find(e.current),n=t[t.length-1]||!1;n&&n.focus(),n.focus()},[]);return[e,t]}var On=function({isLoggedIn:e}){const t=Object(j.addQueryArgs)(wporgPatternsUrl.login,{redirect_to:window.location}),n=Object(j.addQueryArgs)(wporgPatternsUrl.register,{redirect_to:window.location});return e?Object(c.createElement)("div",{className:"pattern-grid__empty-header pattern-favorites__empty-header"},Object(c.createElement)("h2",null,Object(i.__)("Collect and view your favorite patterns.","wporg-patterns")),Object(c.createElement)("p",null,Object(i.__)("Tap the heart on any pattern to mark it as a favorite. All your favorite patterns will appear here.","wporg-patterns"))):Object(c.createElement)("div",{className:"pattern-grid__empty-header pattern-favorites__empty-header"},Object(c.createElement)("h2",null,Object(i.__)("Collect and view your favorite patterns.","wporg-patterns")),Object(c.createElement)("p",null,Object(i.__)("Log in to your WordPress.org account and you’ll be able to see all your favorite patterns in one place.","wporg-patterns")),Object(c.createElement)("p",null,Object(c.createElement)("a",{className:"button button-primary button-large",href:t},Object(i.__)("Log in","wporg-patterns"))),Object(c.createElement)("p",null,Object(c.createElement)("a",{className:"button-link link-create-account",href:n},Object(i.__)("Create an account","wporg-patterns"))))},hn=function(){const{path:e,update:t}=P();let n=y(e,"my-patterns");"page"===n&&(n="all");const r=[{value:wporgPatternsUrl.site+"/my-patterns/",slug:"all",label:Object(i.__)("All","wporg-patterns")},{value:wporgPatternsUrl.site+"/my-patterns/draft/",slug:"draft",label:Object(i.__)("Drafts","wporg-patterns")},{value:wporgPatternsUrl.site+"/my-patterns/pending/",slug:"pending",label:Object(i.__)("Pending Review","wporg-patterns")}];return Object(c.createElement)(pn,{label:Object(i.__)("Menu","wporg-patterns"),current:n||"all",options:r,onClick:e=>{e.preventDefault(),t(e.target.pathname)},isLoading:!1})};const vn=document.getElementById("patterns__container");vn&&Object(c.render)(Object(c.createElement)(()=>{const{isEmpty:e,isSearch:t,query:n}=Object(l.useSelect)(e=>{const{getCurrentQuery:t,getPatternsByQuery:n,isLoadingPatternsByQuery:r}=e(me),a=t(),o=a&&r(a),c=a?n(a):[];return{isEmpty:!o&&!c.length,isSearch:a&&!!a.search,query:a}}),[r,a]=fn();return Object(c.createElement)(S,null,Object(c.createElement)(an,null),Object(c.createElement)(mn,null),Object(c.createElement)(Xt,null),Object(c.createElement)("div",{ref:r},t?Object(c.createElement)(rn,{query:n}):Object(c.createElement)(bn,{onNavigation:a})),e?Object(c.createElement)(c.Fragment,null,Object(c.createElement)(on,null),Object(c.createElement)(ge,{query:{per_page:6},showPagination:!1},e=>Object(c.createElement)(Ut,{key:e.id,pattern:e,showAvatar:!0}))):Object(c.createElement)(ge,{query:n,onNavigation:a},e=>Object(c.createElement)(Ut,{key:e.id,pattern:e,showAvatar:!0})))},null),vn);const jn=document.getElementById("my-patterns__container");jn&&Object(c.render)(Object(c.createElement)(()=>{const e=wporgPatternsData.userId,{isEmpty:t,query:n}=Object(l.useSelect)(t=>{const{getCurrentQuery:n,getPatternsByQuery:r,isLoadingPatternsByQuery:a}=t(me),o={status:"any",...n()||{},author:e},c=e&&a(o),i=e?r(o):[];return{isEmpty:!c&&!i.length,query:o}});if(!e){const e=Object(j.addQueryArgs)(wporgPatternsUrl.login,{redirect_to:window.location});return Object(c.createElement)("div",{className:"entry-content"},Object(c.createElement)("p",null,Object(i.__)("Please log in to view your patterns.","wporg-patterns")),Object(c.createElement)("a",{className:"button button-primary",href:e},Object(i.__)("Log in","wporg-patterns")))}return Object(c.createElement)(S,null,Object(c.createElement)(mn,null),Object(c.createElement)(dn,{primary:Object(c.createElement)(hn,null),secondary:Object(c.createElement)(cn,{options:[{label:Object(i.__)("Newest","wporg-patterns"),value:"date"},{label:Object(i.__)("Favorites","wporg-patterns"),value:"favorite_count"}]})}),t?Object(c.createElement)("div",{className:"pattern-grid__empty-header"},Object(c.createElement)("h2",null,Object(i.__)("Nothing found","wporg-patterns")),Object(c.createElement)("p",null,Object(i.__)("You haven’t created any patterns yet.","wporg-patterns"))):Object(c.createElement)(ge,{query:n},e=>Object(c.createElement)(Ut,{key:e.id,pattern:e,showOptions:!0})))},null),jn);const yn=document.getElementById("pattern-favorites__container");yn&&Object(c.render)(Object(c.createElement)(()=>{const{isEmpty:e,query:t}=Object(l.useSelect)(e=>{const{getCurrentQuery:t,getFavorites:n,getPatternsByQuery:r,isLoadingPatternsByQuery:a}=e(me),o=t()||{},c=n();if(null===c)return{query:!1,isEmpty:!1};const i={...o,include:c},s=!!c.length&&a(i),l=c.length?r(i):[];return{query:i,isEmpty:!s&&!l.length}}),[n,r]=fn(),a={orderby:"favorite_count",per_page:6};t["pattern-categories"]&&(a["pattern-categories"]=t["pattern-categories"]);const o=!!wporgPatternsData.userId;return Object(c.createElement)(S,null,Object(c.createElement)(mn,null),Object(c.createElement)("div",{ref:n},o&&Object(c.createElement)(bn,{basePath:"/favorites/",query:t,onNavigation:r})),!o||e?Object(c.createElement)(c.Fragment,null,Object(c.createElement)(On,{isLoggedIn:o}),Object(c.createElement)(ge,{header:Object(c.createElement)("h2",{className:"pattern-favorites__grid-title"},Object(i.__)("Here’s a few of our favorite patterns","wporg-patterns")),query:a,showPagination:!1},e=>Object(c.createElement)(Ut,{key:e.id,pattern:e,showAvatar:!0}))):Object(c.createElement)(ge,{query:t,onNavigation:r},e=>Object(c.createElement)(Ut,{key:e.id,pattern:e,showAvatar:!0})))},null),yn);const wn=document.querySelectorAll(".pattern__container");for(let e=0;e<wn.length;e++){const t=wn[e],n=t.dataset;Object(c.render)(Object(c.createElement)(Wt,n),t,()=>{t.hidden=!1,document.querySelectorAll(".hide-if-pattern-loaded").forEach(e=>e.hidden=!0)})}}]);